---
description: 自然言語の機能記述から機能仕様を作成または更新します。
---

ユーザー入力は、エージェントによって直接提供されるか、コマンド引数として提供される可能性があります。**必ず**それを考慮してプロンプトを進めてください（空でない場合）。

ユーザー入力:

$ARGUMENTS

トリガーメッセージで`/specify`の後にユーザーが入力したテキストが**機能記述**です。これがこの会話で常に利用可能であると仮定してください（`$ARGUMENTS`が以下に文字通り表示されている場合でも）。ユーザーが空のコマンドを提供しない限り、繰り返しを求めないでください。

その機能記述に基づいて、以下を実行してください:

1. リポジトリのルートからスクリプト`.specify/scripts/bash/create-new-feature.sh --json "$ARGUMENTS"`を実行し、そのJSON出力を解析してBRANCH_NAMEとSPEC_FILEを取得します。すべてのファイルパスは絶対パスでなければなりません。
  **重要** このスクリプトは一度だけ実行する必要があります。JSONはターミナルに出力されるため、常にそれを参照して実際の内容を取得してください。
2. `.specify/templates/spec-template.md`を読み込み、必要なセクションを理解します。
3. テンプレート構造を使用してSPEC_FILEに仕様を書き込み、プレースホルダーを機能記述（引数）から導出された具体的な詳細に置き換え、セクションの順序と見出しを保持します。
4. ブランチ名、仕様ファイルパス、および次のフェーズの準備状況を含む完了報告を行います。

注意: スクリプトは新しいブランチを作成してチェックアウトし、書き込み前に仕様ファイルを初期化します。
